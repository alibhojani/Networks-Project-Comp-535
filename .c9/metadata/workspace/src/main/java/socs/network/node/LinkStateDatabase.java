{"filter":false,"title":"LinkStateDatabase.java","tooltip":"/src/main/java/socs/network/node/LinkStateDatabase.java","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":5,"column":17},"end":{"row":6,"column":17},"action":"insert","lines":["ArrayList;","import java.util."],"id":2},{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["import java.util.LinkedList;",""]},{"start":{"row":26,"column":4},"end":{"row":26,"column":8},"action":"remove","lines":["//TO"]},{"start":{"row":26,"column":4},"end":{"row":31,"column":15},"action":"insert","lines":["ArrayList<String> q = new ArrayList<String>();","    HashMap<String, Integer> dist = new HashMap<String, Integer>();","    HashMap<String, String> prev = new HashMap<String, String>();","","    for (LSA l : _store.values()) {","      for (Link"]},{"start":{"row":31,"column":16},"end":{"row":31,"column":17},"action":"remove","lines":["O"]},{"start":{"row":31,"column":16},"end":{"row":31,"column":30},"action":"insert","lines":["escription ld "]},{"start":{"row":31,"column":32},"end":{"row":32,"column":9},"action":"insert","lines":["_store.get(l.linkStateID).links) {","        i"]},{"start":{"row":32,"column":10},"end":{"row":32,"column":14},"action":"insert","lines":[" (!d"]},{"start":{"row":32,"column":15},"end":{"row":32,"column":30},"action":"insert","lines":["st.containsKey("]},{"start":{"row":32,"column":31},"end":{"row":32,"column":33},"action":"insert","lines":["d."]},{"start":{"row":32,"column":34},"end":{"row":32,"column":41},"action":"insert","lines":["inkID))"]},{"start":{"row":32,"column":42},"end":{"row":32,"column":45},"action":"insert","lines":["dis"]},{"start":{"row":32,"column":46},"end":{"row":42,"column":5},"action":"insert","lines":[".put(ld.linkID, Integer.MAX_VALUE);","        if (!prev.containsKey(ld.linkID)) prev.put(ld.linkID, null);","        if (!q.contains(ld.linkID)) q.add(ld.linkID);","      }","      if (!q.contains(l.linkStateID)) q.add(l.linkStateID);","    }","","    dist.put(rd.simulatedIPAddress, 0);","    prev.put(rd.simulatedIPAddress, null);","","    w"]},{"start":{"row":42,"column":6},"end":{"row":42,"column":8},"action":"insert","lines":["il"]},{"start":{"row":42,"column":10},"end":{"row":42,"column":14},"action":"insert","lines":["(!q."]},{"start":{"row":42,"column":15},"end":{"row":42,"column":17},"action":"insert","lines":["sE"]},{"start":{"row":42,"column":19},"end":{"row":45,"column":19},"action":"insert","lines":["ty()) {","      //get node u with min dist to source","      Integer currentMin = Integer.MAX_VALUE;","      String u = nu"]},{"start":{"row":45,"column":20},"end":{"row":46,"column":31},"action":"insert","lines":["l;","      for (int i = 0; i < q.siz"]},{"start":{"row":46,"column":32},"end":{"row":57,"column":32},"action":"insert","lines":["(); i++) {","        if (dist.get(q.get(i)) <= currentMin) {","          u = q.get(i);","          currentMin = dist.get(u);","        }","      }","","      if (u != null) {","        if (u.equals(destinationIP)) {","          String p = destinationIP;","          LinkedList<String> toPrint = new LinkedList<String>();","          while (!p.equals(rd.si"]},{"start":{"row":57,"column":33},"end":{"row":57,"column":37},"action":"insert","lines":["ulat"]},{"start":{"row":57,"column":38},"end":{"row":58,"column":17},"action":"insert","lines":["dIPAddress)) { //TODO: add arrows etc","            toPri"]},{"start":{"row":58,"column":19},"end":{"row":58,"column":20},"action":"insert","lines":["."]},{"start":{"row":58,"column":21},"end":{"row":58,"column":27},"action":"insert","lines":["ddFirs"]},{"start":{"row":58,"column":28},"end":{"row":62,"column":14},"action":"insert","lines":["(p);","            p = prev.get(p);","","          }","          toPr"]},{"start":{"row":62,"column":15},"end":{"row":64,"column":18},"action":"insert","lines":["nt.addFirst(p);","","          return t"]},{"start":{"row":64,"column":19},"end":{"row":64,"column":22},"action":"insert","lines":["Pri"]},{"start":{"row":64,"column":23},"end":{"row":66,"column":0},"action":"insert","lines":["t.toString();","",""]},{"start":{"row":66,"column":1},"end":{"row":66,"column":2},"action":"remove","lines":["h"]},{"start":{"row":66,"column":1},"end":{"row":72,"column":39},"action":"insert","lines":["       }","      }","      q.remove(u);","","      LSA uLSA = _store.get(u);","      for (LinkDescription ld : uLSA.links) {","        int alt = dist.get(u) + ld.tosM"]},{"start":{"row":72,"column":40},"end":{"row":72,"column":41},"action":"insert","lines":["t"]},{"start":{"row":72,"column":42},"end":{"row":73,"column":24},"action":"insert","lines":["ics;","        if (alt < dist.g"]},{"start":{"row":73,"column":25},"end":{"row":78,"column":5},"action":"insert","lines":["t(ld.linkID)) {","          dist.put(ld.linkID, alt);","          prev.put(ld.linkID, u);","        }","      }","    }"]},{"start":{"row":80,"column":3},"end":{"row":81,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":93,"column":0},"end":{"row":93,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":133,"mode":"ace/mode/java"}},"timestamp":1446759095074,"hash":"4eb49edb6ac1dcfda79dbb9c0a29035613f78136"}