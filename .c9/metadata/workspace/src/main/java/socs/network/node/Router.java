{"filter":false,"title":"Router.java","tooltip":"/src/main/java/socs/network/node/Router.java","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":385,"column":26},"end":{"row":385,"column":27},"action":"insert","lines":["r"],"id":664}],[{"start":{"row":385,"column":27},"end":{"row":385,"column":28},"action":"insert","lines":["i"],"id":665}],[{"start":{"row":385,"column":28},"end":{"row":385,"column":29},"action":"insert","lines":["b"],"id":666}],[{"start":{"row":385,"column":29},"end":{"row":385,"column":30},"action":"insert","lines":["t"],"id":667}],[{"start":{"row":385,"column":29},"end":{"row":385,"column":30},"action":"remove","lines":["t"],"id":668}],[{"start":{"row":385,"column":28},"end":{"row":385,"column":29},"action":"remove","lines":["b"],"id":669}],[{"start":{"row":385,"column":28},"end":{"row":385,"column":29},"action":"insert","lines":["n"],"id":670}],[{"start":{"row":385,"column":29},"end":{"row":385,"column":30},"action":"insert","lines":["t"],"id":671}],[{"start":{"row":385,"column":30},"end":{"row":385,"column":31},"action":"insert","lines":["l"],"id":672}],[{"start":{"row":385,"column":31},"end":{"row":385,"column":32},"action":"insert","lines":["n"],"id":673}],[{"start":{"row":385,"column":32},"end":{"row":385,"column":34},"action":"insert","lines":["()"],"id":674}],[{"start":{"row":385,"column":33},"end":{"row":385,"column":35},"action":"insert","lines":["\"\""],"id":675}],[{"start":{"row":385,"column":34},"end":{"row":385,"column":35},"action":"insert","lines":["P"],"id":676}],[{"start":{"row":385,"column":35},"end":{"row":385,"column":36},"action":"insert","lines":["r"],"id":677}],[{"start":{"row":385,"column":36},"end":{"row":385,"column":37},"action":"insert","lines":["o"],"id":678}],[{"start":{"row":385,"column":37},"end":{"row":385,"column":38},"action":"insert","lines":["c"],"id":679}],[{"start":{"row":385,"column":38},"end":{"row":385,"column":39},"action":"insert","lines":["e"],"id":680}],[{"start":{"row":385,"column":39},"end":{"row":385,"column":40},"action":"insert","lines":["s"],"id":681}],[{"start":{"row":385,"column":40},"end":{"row":385,"column":41},"action":"insert","lines":["s"],"id":682}],[{"start":{"row":385,"column":41},"end":{"row":385,"column":42},"action":"insert","lines":["i"],"id":683}],[{"start":{"row":385,"column":42},"end":{"row":385,"column":43},"action":"insert","lines":["n"],"id":684}],[{"start":{"row":385,"column":43},"end":{"row":385,"column":44},"action":"insert","lines":["g"],"id":685}],[{"start":{"row":385,"column":44},"end":{"row":385,"column":45},"action":"insert","lines":[" "],"id":686}],[{"start":{"row":385,"column":45},"end":{"row":385,"column":46},"action":"insert","lines":["c"],"id":687}],[{"start":{"row":385,"column":46},"end":{"row":385,"column":47},"action":"insert","lines":["o"],"id":688}],[{"start":{"row":385,"column":47},"end":{"row":385,"column":48},"action":"insert","lines":["m"],"id":689}],[{"start":{"row":385,"column":48},"end":{"row":385,"column":49},"action":"insert","lines":["m"],"id":690}],[{"start":{"row":385,"column":49},"end":{"row":385,"column":50},"action":"insert","lines":["a"],"id":691}],[{"start":{"row":385,"column":50},"end":{"row":385,"column":51},"action":"insert","lines":["n"],"id":692}],[{"start":{"row":385,"column":51},"end":{"row":385,"column":52},"action":"insert","lines":["d"],"id":693}],[{"start":{"row":385,"column":52},"end":{"row":385,"column":53},"action":"insert","lines":[" "],"id":694}],[{"start":{"row":385,"column":52},"end":{"row":385,"column":53},"action":"remove","lines":[" "],"id":695}],[{"start":{"row":385,"column":52},"end":{"row":385,"column":53},"action":"insert","lines":[":"],"id":696}],[{"start":{"row":385,"column":53},"end":{"row":385,"column":54},"action":"insert","lines":[" "],"id":697}],[{"start":{"row":385,"column":55},"end":{"row":385,"column":56},"action":"insert","lines":["+"],"id":698}],[{"start":{"row":385,"column":56},"end":{"row":385,"column":57},"action":"insert","lines":["l"],"id":699}],[{"start":{"row":385,"column":57},"end":{"row":385,"column":58},"action":"insert","lines":["i"],"id":700}],[{"start":{"row":385,"column":58},"end":{"row":385,"column":59},"action":"insert","lines":["n"],"id":701}],[{"start":{"row":385,"column":59},"end":{"row":385,"column":60},"action":"insert","lines":["e"],"id":702}],[{"start":{"row":386,"column":32},"end":{"row":386,"column":33},"action":"insert","lines":["."],"id":703}],[{"start":{"row":386,"column":33},"end":{"row":386,"column":34},"action":"insert","lines":["t"],"id":704}],[{"start":{"row":386,"column":34},"end":{"row":386,"column":35},"action":"insert","lines":["r"],"id":705}],[{"start":{"row":386,"column":35},"end":{"row":386,"column":36},"action":"insert","lines":["i"],"id":706}],[{"start":{"row":386,"column":36},"end":{"row":386,"column":37},"action":"insert","lines":["m"],"id":707}],[{"start":{"row":386,"column":37},"end":{"row":386,"column":38},"action":"insert","lines":["("],"id":708}],[{"start":{"row":386,"column":38},"end":{"row":386,"column":39},"action":"insert","lines":[")"],"id":709}],[{"start":{"row":385,"column":61},"end":{"row":385,"column":62},"action":"insert","lines":[";"],"id":710}],[{"start":{"row":385,"column":0},"end":{"row":386,"column":0},"action":"remove","lines":["              System.out.println(\"Processing command: \"+line);",""],"id":711}],[{"start":{"row":385,"column":38},"end":{"row":385,"column":39},"action":"remove","lines":[")"],"id":712}],[{"start":{"row":385,"column":37},"end":{"row":385,"column":39},"action":"remove","lines":["()"],"id":713}],[{"start":{"row":385,"column":36},"end":{"row":385,"column":37},"action":"remove","lines":["m"],"id":714}],[{"start":{"row":385,"column":35},"end":{"row":385,"column":36},"action":"remove","lines":["i"],"id":715}],[{"start":{"row":385,"column":34},"end":{"row":385,"column":35},"action":"remove","lines":["r"],"id":716}],[{"start":{"row":385,"column":33},"end":{"row":385,"column":34},"action":"remove","lines":["t"],"id":717}],[{"start":{"row":385,"column":32},"end":{"row":385,"column":33},"action":"remove","lines":["."],"id":718}],[{"start":{"row":385,"column":32},"end":{"row":385,"column":33},"action":"insert","lines":[")"],"id":719}],[{"start":{"row":382,"column":25},"end":{"row":382,"column":27},"action":"remove","lines":["in"],"id":720},{"start":{"row":382,"column":25},"end":{"row":382,"column":27},"action":"insert","lines":["br"]}],[{"start":{"row":384,"column":25},"end":{"row":384,"column":27},"action":"remove","lines":["in"],"id":721},{"start":{"row":384,"column":25},"end":{"row":384,"column":27},"action":"insert","lines":["br"]}],[{"start":{"row":390,"column":0},"end":{"row":391,"column":0},"action":"remove","lines":["      System.exit(0);",""],"id":722}],[{"start":{"row":386,"column":11},"end":{"row":387,"column":0},"action":"insert","lines":["",""],"id":723},{"start":{"row":387,"column":0},"end":{"row":387,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":387,"column":10},"end":{"row":388,"column":0},"action":"insert","lines":["      br.close();",""],"id":724}],[{"start":{"row":387,"column":27},"end":{"row":388,"column":0},"action":"remove","lines":["",""],"id":725}],[{"start":{"row":387,"column":16},"end":{"row":387,"column":17},"action":"insert","lines":["\\"],"id":726}],[{"start":{"row":387,"column":16},"end":{"row":387,"column":17},"action":"remove","lines":["\\"],"id":727}],[{"start":{"row":387,"column":12},"end":{"row":387,"column":16},"action":"remove","lines":["    "],"id":728}],[{"start":{"row":387,"column":8},"end":{"row":387,"column":12},"action":"remove","lines":["    "],"id":729}],[{"start":{"row":387,"column":8},"end":{"row":387,"column":9},"action":"insert","lines":[" "],"id":730}],[{"start":{"row":387,"column":9},"end":{"row":387,"column":10},"action":"insert","lines":[" "],"id":731}],[{"start":{"row":387,"column":21},"end":{"row":388,"column":0},"action":"insert","lines":["",""],"id":732},{"start":{"row":388,"column":0},"end":{"row":388,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":388,"column":10},"end":{"row":388,"column":11},"action":"insert","lines":["S"],"id":733}],[{"start":{"row":388,"column":11},"end":{"row":388,"column":12},"action":"insert","lines":["u"],"id":734}],[{"start":{"row":388,"column":11},"end":{"row":388,"column":12},"action":"remove","lines":["u"],"id":735}],[{"start":{"row":388,"column":11},"end":{"row":388,"column":12},"action":"insert","lines":["y"],"id":736}],[{"start":{"row":388,"column":12},"end":{"row":388,"column":13},"action":"insert","lines":["s"],"id":737}],[{"start":{"row":388,"column":10},"end":{"row":388,"column":13},"action":"remove","lines":["Sys"],"id":738},{"start":{"row":388,"column":10},"end":{"row":388,"column":16},"action":"insert","lines":["System"]}],[{"start":{"row":388,"column":16},"end":{"row":388,"column":17},"action":"insert","lines":["."],"id":739}],[{"start":{"row":388,"column":17},"end":{"row":388,"column":18},"action":"insert","lines":["e"],"id":740}],[{"start":{"row":388,"column":18},"end":{"row":388,"column":19},"action":"insert","lines":["x"],"id":741}],[{"start":{"row":388,"column":17},"end":{"row":388,"column":19},"action":"remove","lines":["ex"],"id":742},{"start":{"row":388,"column":17},"end":{"row":388,"column":21},"action":"insert","lines":["exit"]}],[{"start":{"row":388,"column":21},"end":{"row":388,"column":22},"action":"insert","lines":[")"],"id":743}],[{"start":{"row":388,"column":22},"end":{"row":388,"column":23},"action":"insert","lines":["9"],"id":744}],[{"start":{"row":388,"column":22},"end":{"row":388,"column":23},"action":"remove","lines":["9"],"id":745}],[{"start":{"row":388,"column":21},"end":{"row":388,"column":22},"action":"remove","lines":[")"],"id":746}],[{"start":{"row":388,"column":21},"end":{"row":388,"column":23},"action":"insert","lines":["()"],"id":747}],[{"start":{"row":388,"column":22},"end":{"row":388,"column":23},"action":"insert","lines":["0"],"id":748}],[{"start":{"row":388,"column":24},"end":{"row":388,"column":25},"action":"insert","lines":[";"],"id":749}],[{"start":{"row":385,"column":32},"end":{"row":385,"column":33},"action":"insert","lines":["."],"id":750}],[{"start":{"row":385,"column":33},"end":{"row":385,"column":34},"action":"insert","lines":["t"],"id":751}],[{"start":{"row":385,"column":34},"end":{"row":385,"column":35},"action":"insert","lines":["r"],"id":752}],[{"start":{"row":385,"column":35},"end":{"row":385,"column":36},"action":"insert","lines":["i"],"id":753}],[{"start":{"row":385,"column":36},"end":{"row":385,"column":37},"action":"insert","lines":["m"],"id":754}],[{"start":{"row":385,"column":37},"end":{"row":385,"column":38},"action":"insert","lines":["("],"id":755}],[{"start":{"row":385,"column":38},"end":{"row":385,"column":39},"action":"insert","lines":[")"],"id":756}],[{"start":{"row":388,"column":0},"end":{"row":389,"column":0},"action":"remove","lines":["          System.exit(0);",""],"id":757}],[{"start":{"row":13,"column":17},"end":{"row":13,"column":27},"action":"remove","lines":["LinkedList"],"id":758},{"start":{"row":13,"column":17},"end":{"row":13,"column":18},"action":"insert","lines":["*"]},{"start":{"row":13,"column":19},"end":{"row":15,"column":0},"action":"remove","lines":["","import java.util.Vector;",""]},{"start":{"row":87,"column":52},"end":{"row":149,"column":0},"action":"insert","lines":["","","      ArrayList<String> q = new ArrayList<String>();","      HashMap<String, Integer> dist = new HashMap<String, Integer>();","      HashMap<String, String> prev = new HashMap <String, String>();","","        //init","      for (String v : lsd._store.keySet()) {","          dist.put(v, Integer.MAX_VALUE);","          prev.put(v, null);","          q.add(v);","      }","","      dist.put(rd.simulatedIPAddress, 0);","","","      while (!q.isEmpty()) {","          //get node u with min dist to source","          Integer currentMin = Integer.MAX_VALUE;","          String u = null;","          for (int i = 0; i < q.size(); i++) {","            if (dist.get(q.get(i)) < currentMin) {","                u = q.get(i);","                currentMin = dist.get(u);","            }","          }","","          if (u.equals(destinationIP)) {","              String p = destinationIP;","              LinkedList <String> toPrint = new LinkedList<String>();","              while (p != rd.simulatedIPAddress) { //TODO: add arrows etc","                  toPrint.addFirst(p);","                  p = prev.get(p);","              }","              toPrint.addFirst(p);","","              System.out.println (toPrint.toString());","              break;","              //System.out.println (\"Sort of worked\");","          }","          q.remove(u);","","          //unpack u, get neighbors","          LSA uLSA = lsd._store.get(u);","           if (uLSA != null) {","               for (int i = 0; i < uLSA.links.size(); i++) {","","                   int alt = dist.get(u) + uLSA.links.get(i).tosMetrics;","                   if (alt < dist.get(uLSA.links.get(i).linkID)) {","                       //dist.remove(uLSA.links.get(i).linkID);","                       dist.put(uLSA.links.get(i).linkID, alt);","                       //prev.remove(uLSA.links.get(i).linkID);","                       prev.put(uLSA.links.get(i).linkID, u);","                   }","","               }","           }","      }","","","","",""]},{"start":{"row":353,"column":20},"end":{"row":353,"column":22},"action":"insert","lines":["//"]},{"start":{"row":353,"column":58},"end":{"row":353,"column":83},"action":"remove","lines":[" //remove just to be safe"]}],[{"start":{"row":13,"column":0},"end":{"row":14,"column":0},"action":"remove","lines":["import java.util.*;",""],"id":759},{"start":{"row":13,"column":0},"end":{"row":13,"column":28},"action":"insert","lines":["import java.util.LinkedList;"]}],[{"start":{"row":13,"column":28},"end":{"row":14,"column":0},"action":"insert","lines":["",""],"id":760}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":24},"action":"insert","lines":["import java.util.Vector;"],"id":761}],[{"start":{"row":89,"column":0},"end":{"row":149,"column":0},"action":"remove","lines":["      ArrayList<String> q = new ArrayList<String>();","      HashMap<String, Integer> dist = new HashMap<String, Integer>();","      HashMap<String, String> prev = new HashMap <String, String>();","","        //init","      for (String v : lsd._store.keySet()) {","          dist.put(v, Integer.MAX_VALUE);","          prev.put(v, null);","          q.add(v);","      }","","      dist.put(rd.simulatedIPAddress, 0);","","","      while (!q.isEmpty()) {","          //get node u with min dist to source","          Integer currentMin = Integer.MAX_VALUE;","          String u = null;","          for (int i = 0; i < q.size(); i++) {","            if (dist.get(q.get(i)) < currentMin) {","                u = q.get(i);","                currentMin = dist.get(u);","            }","          }","","          if (u.equals(destinationIP)) {","              String p = destinationIP;","              LinkedList <String> toPrint = new LinkedList<String>();","              while (p != rd.simulatedIPAddress) { //TODO: add arrows etc","                  toPrint.addFirst(p);","                  p = prev.get(p);","              }","              toPrint.addFirst(p);","","              System.out.println (toPrint.toString());","              break;","              //System.out.println (\"Sort of worked\");","          }","          q.remove(u);","","          //unpack u, get neighbors","          LSA uLSA = lsd._store.get(u);","           if (uLSA != null) {","               for (int i = 0; i < uLSA.links.size(); i++) {","","                   int alt = dist.get(u) + uLSA.links.get(i).tosMetrics;","                   if (alt < dist.get(uLSA.links.get(i).linkID)) {","                       //dist.remove(uLSA.links.get(i).linkID);","                       dist.put(uLSA.links.get(i).linkID, alt);","                       //prev.remove(uLSA.links.get(i).linkID);","                       prev.put(uLSA.links.get(i).linkID, u);","                   }","","               }","           }","      }","","","","",""],"id":762},{"start":{"row":89,"column":0},"end":{"row":147,"column":0},"action":"insert","lines":["","      ArrayList<String> q = new ArrayList<String>();","      HashMap<String, Integer> dist = new HashMap<String, Integer>();","      HashMap<String, String> prev = new HashMap <String, String>();","","        //init","      for (String v : lsd._store.keySet()) {","          dist.put(v, Integer.MAX_VALUE);","          prev.put(v, null);","          q.add(v);","      }","","      dist.put(rd.simulatedIPAddress, 0);","","","      while (!q.isEmpty()) {","          //get node u with min dist to source","          Integer currentMin = Integer.MAX_VALUE;","          String u = null;","          for (int i = 0; i < q.size(); i++) {","            if (dist.get(q.get(i)) < currentMin) {","                u = q.get(i);","                currentMin = dist.get(u);","            }","          }","","          if (u.equals(destinationIP)) {","              String p = destinationIP;","              LinkedList <String> toPrint = new LinkedList<String>();","              while (p != rd.simulatedIPAddress) { //TODO: add arrows etc","                  toPrint.addFirst(p);","                  p = prev.get(p);","              }","              toPrint.addFirst(p);","","              System.out.println (toPrint.toString());","              break;","              //System.out.println (\"Sort of worked\");","          }","          q.remove(u);","","          //unpack u, get neighbors","          LSA uLSA = lsd._store.get(u);","           if (uLSA != null) {","               for (int i = 0; i < uLSA.links.size(); i++) {","","                   int alt = dist.get(u) + uLSA.links.get(i).tosMetrics;","                   if (alt < dist.get(uLSA.links.get(i).linkID)) {","                       //dist.remove(uLSA.links.get(i).linkID);","                       dist.put(uLSA.links.get(i).linkID, alt);","                       //prev.remove(uLSA.links.get(i).linkID);","                       prev.put(uLSA.links.get(i).linkID, u);","                   }","","               }","           }","      }","",""]}],[{"start":{"row":146,"column":0},"end":{"row":147,"column":0},"action":"remove","lines":["",""],"id":763}],[{"start":{"row":145,"column":7},"end":{"row":146,"column":0},"action":"remove","lines":["",""],"id":764}]]},"ace":{"folds":[],"scrolltop":4795,"scrollleft":0,"selection":{"start":{"row":348,"column":86},"end":{"row":348,"column":86},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":318,"state":"start","mode":"ace/mode/java"}},"timestamp":1446589804091,"hash":"08012fb8dc3a44b15a7373528c7e19d38e57ee2b"}