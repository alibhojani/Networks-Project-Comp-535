{"filter":false,"title":"Router.java","tooltip":"/src/main/java/socs/network/node/Router.java","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":440,"column":45},"end":{"row":440,"column":46},"action":"remove","lines":["."],"id":2}],[{"start":{"row":440,"column":45},"end":{"row":440,"column":46},"action":"insert","lines":[":"],"id":3}],[{"start":{"row":440,"column":46},"end":{"row":440,"column":47},"action":"insert","lines":[" "],"id":4}],[{"start":{"row":440,"column":48},"end":{"row":440,"column":49},"action":"insert","lines":["+"],"id":5}],[{"start":{"row":440,"column":49},"end":{"row":440,"column":50},"action":"insert","lines":["c"],"id":6}],[{"start":{"row":440,"column":50},"end":{"row":440,"column":51},"action":"insert","lines":["p"],"id":7}],[{"start":{"row":440,"column":50},"end":{"row":440,"column":51},"action":"remove","lines":["p"],"id":8}],[{"start":{"row":440,"column":50},"end":{"row":440,"column":51},"action":"insert","lines":["o"],"id":9}],[{"start":{"row":440,"column":51},"end":{"row":440,"column":52},"action":"insert","lines":["m"],"id":10}],[{"start":{"row":440,"column":49},"end":{"row":440,"column":52},"action":"remove","lines":["com"],"id":11},{"start":{"row":440,"column":49},"end":{"row":440,"column":56},"action":"insert","lines":["command"]}],[{"start":{"row":87,"column":0},"end":{"row":89,"column":0},"action":"remove","lines":["","",""],"id":12},{"start":{"row":87,"column":6},"end":{"row":87,"column":23},"action":"remove","lines":["ArrayList<String>"]},{"start":{"row":87,"column":7},"end":{"row":87,"column":8},"action":"remove","lines":["q"]},{"start":{"row":87,"column":8},"end":{"row":87,"column":24},"action":"remove","lines":["= new ArrayList<"]},{"start":{"row":87,"column":14},"end":{"row":88,"column":0},"action":"remove","lines":[">();",""]},{"start":{"row":87,"column":15},"end":{"row":87,"column":30},"action":"remove","lines":["     HashMap<St"]},{"start":{"row":87,"column":16},"end":{"row":87,"column":34},"action":"remove","lines":["ing, Integer> dist"]},{"start":{"row":87,"column":19},"end":{"row":87,"column":25},"action":"remove","lines":["new Ha"]},{"start":{"row":87,"column":19},"end":{"row":87,"column":20},"action":"insert","lines":["l"]},{"start":{"row":87,"column":21},"end":{"row":87,"column":31},"action":"remove","lines":["hMap<Strin"]},{"start":{"row":87,"column":21},"end":{"row":87,"column":23},"action":"insert","lines":["d."]},{"start":{"row":87,"column":24},"end":{"row":87,"column":29},"action":"remove","lines":[", Int"]},{"start":{"row":87,"column":25},"end":{"row":88,"column":15},"action":"remove","lines":["ger>();","      HashMap<S"]},{"start":{"row":87,"column":26},"end":{"row":87,"column":32},"action":"remove","lines":["ring, "]},{"start":{"row":87,"column":27},"end":{"row":87,"column":48},"action":"remove","lines":["tring> prev = new Has"]},{"start":{"row":87,"column":28},"end":{"row":90,"column":7},"action":"remove","lines":["Map <String, String>();","","        //init PROBLEM IS HERE","      f"]},{"start":{"row":87,"column":30},"end":{"row":87,"column":46},"action":"remove","lines":[" (LSA l : lsd._s"]},{"start":{"row":87,"column":31},"end":{"row":87,"column":39},"action":"remove","lines":["ore.valu"]},{"start":{"row":87,"column":33},"end":{"row":88,"column":26},"action":"remove","lines":["()) {","          for (LinkDescrip"]},{"start":{"row":87,"column":34},"end":{"row":87,"column":66},"action":"remove","lines":["ion ld : lsd._store.get(l.linkSt"]},{"start":{"row":87,"column":34},"end":{"row":87,"column":35},"action":"insert","lines":["P"]},{"start":{"row":87,"column":37},"end":{"row":88,"column":17},"action":"remove","lines":["eID).links) {","              if "]},{"start":{"row":87,"column":37},"end":{"row":87,"column":38},"action":"insert","lines":["h"]},{"start":{"row":87,"column":39},"end":{"row":87,"column":40},"action":"remove","lines":["!"]},{"start":{"row":87,"column":40},"end":{"row":87,"column":53},"action":"remove","lines":["ist.containsK"]},{"start":{"row":87,"column":41},"end":{"row":87,"column":56},"action":"remove","lines":["y(ld.linkID))di"]},{"start":{"row":87,"column":43},"end":{"row":87,"column":52},"action":"remove","lines":[".put(ld.l"]},{"start":{"row":87,"column":45},"end":{"row":88,"column":28},"action":"remove","lines":["kID, Integer.MAX_VALUE);","              if (!prev.cont"]},{"start":{"row":87,"column":46},"end":{"row":87,"column":71},"action":"remove","lines":["insKey(ld.linkID))prev.pu"]},{"start":{"row":87,"column":47},"end":{"row":87,"column":52},"action":"remove","lines":["(ld.l"]},{"start":{"row":87,"column":48},"end":{"row":88,"column":22},"action":"remove","lines":["nkID, null);","              if (!q.c"]},{"start":{"row":87,"column":50},"end":{"row":87,"column":63},"action":"remove","lines":["tains(ld.link"]},{"start":{"row":87,"column":51},"end":{"row":87,"column":70},"action":"remove","lines":["D)) q.add(ld.linkID"]},{"start":{"row":87,"column":51},"end":{"row":87,"column":52},"action":"insert","lines":["P"]},{"start":{"row":88,"column":0},"end":{"row":89,"column":2},"action":"remove","lines":["              }","  "]},{"start":{"row":88,"column":12},"end":{"row":92,"column":14},"action":"remove","lines":["!q.contains(l.linkStateID)) q.add(l.linkStateID);","      }","","","      //q.add("]},{"start":{"row":88,"column":13},"end":{"row":93,"column":13},"action":"remove","lines":["d.simulatedIPAddress);","      dist.put(rd.simulatedIPAddress, 0);","      prev.put(rd.simulatedIPAddress, null);","      //System.out.println(dist.toString());","","      while ("]},{"start":{"row":88,"column":14},"end":{"row":92,"column":19},"action":"remove","lines":["q.isEmpty()) {","","          //get node u with min dist to source","          Integer currentMin = Integer.MAX_VALUE;","          String u "]},{"start":{"row":88,"column":20},"end":{"row":89,"column":37},"action":"remove","lines":[";","          for (int i = 0; i < q.size("]},{"start":{"row":88,"column":21},"end":{"row":94,"column":9},"action":"remove","lines":["; i++) {","            if (dist.get(q.get(i)) <= currentMin) {","                u = q.get(i);","                currentMin = dist.get(u);","            }","          }","         "]},{"start":{"row":88,"column":40},"end":{"row":88,"column":41},"action":"remove","lines":[" "]},{"start":{"row":88,"column":41},"end":{"row":88,"column":42},"action":"remove","lines":["p"]},{"start":{"row":88,"column":42},"end":{"row":88,"column":55},"action":"remove","lines":["ev.toString()"]},{"start":{"row":89,"column":8},"end":{"row":89,"column":16},"action":"remove","lines":["  if (u."]},{"start":{"row":89,"column":9},"end":{"row":89,"column":12},"action":"remove","lines":["qua"]},{"start":{"row":89,"column":11},"end":{"row":89,"column":13},"action":"remove","lines":["(d"]},{"start":{"row":89,"column":12},"end":{"row":90,"column":4},"action":"remove","lines":["stinationIP)) {","    "]},{"start":{"row":89,"column":13},"end":{"row":89,"column":24},"action":"remove","lines":["         //"]},{"start":{"row":89,"column":35},"end":{"row":90,"column":34},"action":"remove","lines":["DSD\");","              String p = destinati"]},{"start":{"row":89,"column":35},"end":{"row":89,"column":36},"action":"insert","lines":["h"]},{"start":{"row":89,"column":37},"end":{"row":90,"column":28},"action":"remove","lines":["nIP;","              LinkedList <St"]},{"start":{"row":89,"column":38},"end":{"row":89,"column":43},"action":"remove","lines":["ing> "]},{"start":{"row":89,"column":39},"end":{"row":89,"column":49},"action":"remove","lines":["oPrint = n"]},{"start":{"row":89,"column":40},"end":{"row":89,"column":50},"action":"remove","lines":["w LinkedLi"]},{"start":{"row":89,"column":42},"end":{"row":90,"column":0},"action":"remove","lines":["<String>();",""]},{"start":{"row":89,"column":43},"end":{"row":89,"column":86},"action":"remove","lines":["             while (!p.equals(rd.simulatedI"]},{"start":{"row":89,"column":44},"end":{"row":89,"column":64},"action":"remove","lines":["Address)) { //TODO: "]},{"start":{"row":89,"column":45},"end":{"row":89,"column":56},"action":"remove","lines":["dd arrows e"]},{"start":{"row":89,"column":46},"end":{"row":90,"column":12},"action":"remove","lines":["c","            "]},{"start":{"row":89,"column":46},"end":{"row":89,"column":47},"action":"insert","lines":["h"]},{"start":{"row":89,"column":48},"end":{"row":89,"column":54},"action":"remove","lines":["     t"]},{"start":{"row":89,"column":48},"end":{"row":89,"column":49},"action":"insert","lines":["N"]},{"start":{"row":89,"column":50},"end":{"row":89,"column":54},"action":"remove","lines":["Prin"]},{"start":{"row":89,"column":51},"end":{"row":93,"column":4},"action":"remove","lines":[".addFirst(p);","                  p = prev.get(p);","","              }","    "]},{"start":{"row":89,"column":52},"end":{"row":89,"column":72},"action":"remove","lines":["         toPrint.add"]},{"start":{"row":89,"column":53},"end":{"row":91,"column":21},"action":"remove","lines":["irst(p);","","              System."]},{"start":{"row":89,"column":55},"end":{"row":89,"column":60},"action":"remove","lines":["t.pri"]},{"start":{"row":89,"column":56},"end":{"row":91,"column":50},"action":"remove","lines":["tln (toPrint.toString());","              break;","              //System.out.println (\"Sort of worke"]},{"start":{"row":89,"column":60},"end":{"row":108,"column":7},"action":"remove","lines":["","          }","          q.remove(u);","","          //unpack u, get neighbors","          LSA uLSA = lsd._store.get(u);","           if (uLSA != null) {","               for (int i = 0; i < uLSA.links.size(); i++) {","                   //System.out.println (uLSA.links.toString());","                   int alt = dist.get(u) + uLSA.links.get(i).tosMetrics;","                   if (alt < dist.get(uLSA.links.get(i).linkID)) {","                       //dist.remove(uLSA.links.get(i).linkID);","                       dist.put(uLSA.links.get(i).linkID, alt);","                       //prev.remove(uLSA.links.get(i).linkID);","                       prev.put(uLSA.links.get(i).linkID, u);","                   }","","               }","           }","      }"]},{"start":{"row":330,"column":12},"end":{"row":330,"column":25},"action":"insert","lines":["System.out.pr"]},{"start":{"row":330,"column":26},"end":{"row":330,"column":27},"action":"remove","lines":["f"]},{"start":{"row":330,"column":26},"end":{"row":330,"column":30},"action":"insert","lines":["ntln"]},{"start":{"row":330,"column":32},"end":{"row":330,"column":33},"action":"remove","lines":["!"]},{"start":{"row":330,"column":47},"end":{"row":330,"column":76},"action":"remove","lines":[".equals(rd.simulatedIPAddress"]},{"start":{"row":330,"column":48},"end":{"row":330,"column":51},"action":"remove","lines":[") {"]},{"start":{"row":330,"column":48},"end":{"row":330,"column":49},"action":"insert","lines":[";"]},{"start":{"row":331,"column":0},"end":{"row":331,"column":2},"action":"remove","lines":["  "]},{"start":{"row":331,"column":12},"end":{"row":331,"column":14},"action":"remove","lines":["  "]},{"start":{"row":331,"column":30},"end":{"row":331,"column":31},"action":"insert","lines":[" "]},{"start":{"row":331,"column":40},"end":{"row":331,"column":57},"action":"remove","lines":["StateID + \" \" + l"]},{"start":{"row":331,"column":41},"end":{"row":331,"column":42},"action":"remove","lines":["a"]},{"start":{"row":331,"column":42},"end":{"row":331,"column":45},"action":"remove","lines":["lsa"]},{"start":{"row":331,"column":42},"end":{"row":331,"column":44},"action":"insert","lines":["to"]},{"start":{"row":331,"column":45},"end":{"row":331,"column":52},"action":"remove","lines":["eqNumbe"]},{"start":{"row":331,"column":45},"end":{"row":331,"column":46},"action":"insert","lines":["t"]},{"start":{"row":331,"column":47},"end":{"row":331,"column":52},"action":"insert","lines":["ing()"]},{"start":{"row":331,"column":54},"end":{"row":332,"column":13},"action":"remove","lines":["","            }"]}]]},"ace":{"folds":[],"scrolltop":4620.5,"scrollleft":0,"selection":{"start":{"row":331,"column":13},"end":{"row":331,"column":54},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":307,"state":"start","mode":"ace/mode/java"}},"timestamp":1446759095114,"hash":"4456e84d569f38616e47d1f18bc9533f76ec3f4e"}